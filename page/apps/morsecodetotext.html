<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<meta name="theme-color" content="#000000">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="../../style.css" type="text/css" media="all" />
	<title>Morse Code to Text Converter</title>
	<style>
		div #input {
			width: 100%;
		}
		div #output {
			width: 100%;
		}
		.error-message {
			color: red;
		}
	</style>
</head>
<body>
	<div class="text">
		<header>
			<nav>
				<div class="hamburger">
					<a class="hamburger-menu" href="../../about.html">&#9776;</a><span class="font-margin" id="navB"></span>
				</div>
			</nav>
		</header>
		<div class="title">
			<h1>Morse code to text converter</h1>
		</div>
		<div class="box3">
			<a href="javascript:window.history.back();">Back</a>
			<br>
			<a href="../../home.html">Home</a>
		</div>
		<div class="box2">
			<textarea id="input" placeholder="Enter morse code" rows="7" cols="100"></textarea>
			<br>
			<button onclick="convert()">Convert</button>
			<br>
			<br>
			<div id="error-message" class="error-message"></div>
			<textarea id="output" placeholder="Output will be shown here" readonly rows="4" cols="100"></textarea>
		</div>
		<footer id="footerB"></footer>
	</div>
	<script type='text/javascript' src='../../script/jquery.min.js'></script>
	<script src="../../script.js" type="text/javascript" charset="utf-8"></script>
	<script src="../../script/footer/footerB.js" type="text/javascript" charset="utf-8"></script>
	<script src="../../script/nav/navB.js" type="text/javascript" charset="utf-8"></script>
	<script>
	function validateInput(input) {
    if (input.value < input.min) {
      input.value = input.min;
    } else if (input.value > input.max) {
      input.value = input.max;
    }
  }
  
		function convert() {
			var morseCode = document.getElementById("input").value;
			var text = "";
			var morseCodeArray = morseCode.split(" / ");
			var errorMessage = "";
			for (var i = 0; i < morseCodeArray.length; i++) {
				var letterArray = morseCodeArray[i].split(" ");
				for (var j = 0; j < letterArray.length; j++) {
					var morseCodeMap = {
						".-": "A",
						"-...": "B",
						"-.-.": "C",
						"-..": "D",
						".": "E",
						"..-.": "F",
						"--.": "G",
						"....": "H",
						"..": "I",
						".---": "J",
						"-.-": "K",
						".-..": "L",
						"--": "M",
						"-.": "N",
						"---": "O",
						".--.": "P",
						"--.-": "Q",
						".-.": "R",
						"...": "S",
						"-": "T",
						"..-": "U",
						"...-": "V",
						".--": "W",
						"-..-": "X",
						"-.--": "Y",
						"--..": "Z",
						"-----": "0",
						".----": "1",
						"..---": "2",
						"...--": "3",
						"....-": "4",
						".....": "5",
						"-....": "6",
						"--...": "7",
						"---..": "8",
						"----.": "9",
						".-.-.-": ".",
						"--..--": ",",
						"•-": "A",
						"-•••": "B",
						"-•-•": "C",
						"-••": "D",
						"•": "E",
						"••-•": "F",
						"--•": "G",
						"••••": "H",
						"••": "I",
						"•---": "J",
						"-•-": "K",
						"•-••": "L",
						"--": "M",
						"-•": "N",
						"---": "O",
						"•--•": "P",
						"--•-": "Q",
						"•-•": "R",
						"•••": "S",
						"-": "T",
						"••-": "U",
						"•••-": "V",
						"•--": "W",
						"-••-": "X",
						"-•--": "Y",
						"--••": "Z",
						"-----": "0",
						"•----": "1",
						"••---": "2",
						"•••--": "3",
						"••••-": "4",
						"•••••": "5",
						"-••••": "6",
						"--•••": "7",
						"---••": "8",
						"----•": "9",
						"•-•-•-": ".",
						"--••--": ",",
						"01": "A",
						"1000": "B",
						"1010": "C",
						"100": "D",
						"0": "E",
						"0010": "F",
						"110": "G",
						"0000": "H",
						"00": "I",
						"0111": "J",
						"101": "K",
						"0100": "L",
						"11": "M",
						"10": "N",
						"111": "O",
						"0110": "P",
						"1101": "Q",
						"010": "R",
						"000": "S",
						"1": "T",
						"001": "U",
						"0001": "V",
						"011": "W",
						"1001": "X",
						"1011": "Y",
						"1100": "Z",
						"11111": "0",
						"01111": "1",
						"00111": "2",
						"00011": "3",
						"00001": "4",
						"00000": "5",
						"10000": "6",
						"11000": "7",
						"11100": "8",
						"11110": "9",
						"010101": ".",
						"110011": ","
					};
					if (morseCodeMap[letterArray[j]]) {
						text += morseCodeMap[letterArray[j]];
					} else {
						errorMessage += "Invalid symbol: " + letterArray[j] + "\n";
					}
				}
				text += " ";
			}
			document.getElementById("output").value = text.trim();
			document.getElementById("error-message").innerText = errorMessage;
		}
	</script>
	<noscript>
		<br>
		<div class="box3 center-text">
			<h2>JavaScript is need to be enabled!</h2>
			You must have JavaScript enabled in your browser's settings to show the contents!
			<br>
			<br>Are you using HTML viewer? Open as browser instead.
			<br>
			<br>Done? Try refreshing the page.
		</div>
	</noscript>
	<script type="text/javascript">
		$(document).ready(function() {
			$('.text').show();
		});
	</script>
</body>
</html>